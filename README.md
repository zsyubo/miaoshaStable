# miaoshaStable
慕课网秒杀代码

## ## 为什么需要事务消息？
在第一版代码中，在 redis扣减时发送扣减库存的消息，之后在进行订单持久化
但是如果订单持久化失败了，扣减的库存就很难去回补了
然后产生了第二版代码。等扣减redis、持久化订单的事务提交后在进行扣减库存消息的发送，
但是同样也存在问题：那就是如果扣减库存的消息发送失败怎么办？虽然有办法避免，但是也很麻烦。
那么有了rocketmq的事务消息，只要事务提交了，那么 mq会保证消息发送成功。